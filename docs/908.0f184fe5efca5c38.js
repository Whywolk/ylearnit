"use strict";(self.webpackChunkylearnit_angular=self.webpackChunkylearnit_angular||[]).push([[908],{8908:(bu,dt,f)=>{f.r(dt),f.d(dt,{AdminModule:()=>U});var x=f(6895),pt=f(529),l=f(433),T=f(7747),d=f(4166),t=f(1571),_e=f(3743);class S{constructor(n,o){this.authService=n,this.router=o,this.isMenuCollapsed=!0,this.username=localStorage.getItem("userName")}onLogOut(){console.log("Log out"),this.authService.logout(),this.router.navigate(["/login"])}}S.\u0275fac=function(n){return new(n||S)(t.Y36(_e.e),t.Y36(d.F0))},S.\u0275cmp=t.Xpm({type:S,selectors:[["admin-admin"]],decls:23,vars:2,consts:[[1,"d-flex","flex-column","bg-light","min-vh-100"],[1,"navbar","sticky-top","navbar-expand-md","navbar-dark","bg-dark"],[1,"container"],["routerLink","/app",1,"navbar-brand"],["type","button",1,"navbar-toggler",3,"click"],[1,"collapse","navbar-collapse","justify-content-between",3,"ngbCollapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","./courses",1,"nav-link",3,"click"],["ngbDropdown","",1,"nav-item","mr-auto"],["type","button","ngbDropdownToggle","",1,"nav-link"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end","dropdown-menu-dark"],["ngbDropdownItem","",3,"click"],[1,"row","min-vh-100","justify-content-center"],[1,"col-lg-8","bg-white"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"nav",1)(2,"div",2)(3,"a",3),t._uU(4,"YLearnIt!"),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return o.isMenuCollapsed=!o.isMenuCollapsed}),t._uU(6," \u2630 "),t.qZA(),t.TgZ(7,"div",5)(8,"ul",6)(9,"li",7)(10,"a",8),t.NdJ("click",function(){return o.isMenuCollapsed=!0}),t._uU(11,"\u041a\u0443\u0440\u0441\u044b"),t.qZA()()(),t.TgZ(12,"ul",6)(13,"li",9)(14,"a",10),t._uU(15),t.qZA(),t.TgZ(16,"div",11)(17,"button",12),t.NdJ("click",function(){return o.onLogOut()}),t._uU(18,"\u0412\u044b\u0439\u0442\u0438"),t.qZA()()()()()()(),t.TgZ(19,"div",2)(20,"div",13)(21,"div",14),t._UZ(22,"router-outlet"),t.qZA()()()()),2&n&&(t.xp6(7),t.Q6J("ngbCollapse",o.isMenuCollapsed),t.xp6(8),t.Oqu(o.username))},dependencies:[d.lC,d.rH,T._D,T.jt,T.iD,T.Vi,T.TH,T.M2]});class O{}O.\u0275fac=function(n){return new(n||O)},O.\u0275cmp=t.Xpm({type:O,selectors:[["admin-admin-dashboard"]],decls:2,vars:0,template:function(n,o){1&n&&(t.TgZ(0,"p"),t._uU(1,"Admin panel"),t.qZA())}});var de=f(1133);class m{constructor(n,o){this.appConfig=n,this.http=o,this.courseUrl="/course"}getCourses(n,o){return this.http.get(`${this.getApiUrl()}/`,{params:{targetLang:n,sourceLang:o}})}getCourse(n){return this.http.get(`${this.getApiUrl()}/${n}`)}createCourse(n){return this.http.post(`${this.getApiUrl()}/`,n)}updateCourse(n){return this.http.put(`${this.getApiUrl()}/${n.id}`,n)}deleteCourse(n){return this.http.delete(`${this.getApiUrl()}/${n}`)}getTopic(n){return this.http.get(`${this.getApiUrl()}/topic/${n}`)}createTopic(n,o){return this.http.post(`${this.getApiUrl()}/${n}/topic`,o)}updateTopic(n){return this.http.put(`${this.getApiUrl()}/topic/${n.id}`,n)}deleteTopic(n){return this.http.delete(`${this.getApiUrl()}/topic/${n}`)}getTopicElements(n){return this.http.get(`${this.getApiUrl()}/topic/${n}/elements`)}updateTopicElements(n,o){return this.http.put(`${this.getApiUrl()}/topic/${n}/elements`,o)}deleteTopicElements(n,o){return this.http.delete(`${this.getApiUrl()}/topic/${n}/elements`,{body:o})}find(n,o){return this.http.get(`${this.getApiUrl()}/find`,{params:{q:n,targetLang:o.targetLang,sourceLang:o.sourceLang}})}getApiUrl(){return this.appConfig.apiUrl+this.courseUrl}}function pe(e,n){if(1&e&&(t.TgZ(0,"div",3)(1,"div",4)(2,"a",5),t._uU(3),t.qZA()(),t.TgZ(4,"div",6)(5,"p"),t._uU(6),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.qZA()()()),2&e){const o=n.$implicit;t.xp6(2),t.MGl("routerLink","../course/",o.id,""),t.xp6(1),t.Oqu(o.title),t.xp6(3),t.hij("\u0412\u0441\u0435\u0433\u043e \u0442\u0435\u043c: ",o.topics.length,""),t.xp6(2),t.hij("\u0421\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c: ",o.difficult,"")}}m.\u0275fac=function(n){return new(n||m)(t.LFG(de._),t.LFG(pt.eN))},m.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"});class F{constructor(n){this.courseService=n,this.courses=[]}ngOnInit(){this.courseService.getCourses("en","ru").subscribe({next:n=>{this.courses=n,console.log(n)},error:n=>{console.error(n)}})}}F.\u0275fac=function(n){return new(n||F)(t.Y36(m))},F.\u0275cmp=t.Xpm({type:F,selectors:[["admin-course-list"]],decls:6,vars:1,consts:[[1,"mt-3"],["routerLink","../courses/add",1,"btn","btn-primary","my-2"],["class","card my-2",4,"ngFor","ngForOf"],[1,"card","my-2"],[1,"card-header"],[1,"card-title","link-info","h5",3,"routerLink"],[1,"card-body","justify-content-between"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u0443\u0440\u0441\u043e\u0432"),t.qZA(),t.TgZ(3,"button",1),t._uU(4,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0443\u0440\u0441"),t.qZA(),t.YNc(5,pe,9,4,"div",2),t.qZA()),2&n&&(t.xp6(5),t.Q6J("ngForOf",o.courses))},dependencies:[x.sg,d.rH]});const gt=function he(e,n){return e===n||e!=e&&n!=n},Y=function me(e,n){for(var o=e.length;o--;)if(gt(e[o][0],n))return o;return-1};var Te=Array.prototype.splice;function Z(e){var n=-1,o=null==e?0:e.length;for(this.clear();++n<o;){var i=e[n];this.set(i[0],i[1])}}Z.prototype.clear=function ge(){this.__data__=[],this.size=0},Z.prototype.delete=function Ce(e){var n=this.__data__,o=Y(n,e);return!(o<0||(o==n.length-1?n.pop():Te.call(n,o,1),--this.size,0))},Z.prototype.get=function ye(e){var n=this.__data__,o=Y(n,e);return o<0?void 0:n[o][1]},Z.prototype.has=function xe(e){return Y(this.__data__,e)>-1},Z.prototype.set=function we(e,n){var o=this.__data__,i=Y(o,e);return i<0?(++this.size,o.push([e,n])):o[i][1]=n,this};const $=Z,ft="object"==typeof global&&global&&global.Object===Object&&global;var Ne="object"==typeof self&&self&&self.Object===Object&&self;const h=ft||Ne||Function("return this")(),w=h.Symbol;var ht=Object.prototype,ke=ht.hasOwnProperty,Le=ht.toString,N=w?w.toStringTag:void 0;var He=Object.prototype.toString;var mt=w?w.toStringTag:void 0;const J=function Re(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":mt&&mt in Object(e)?function Pe(e){var n=ke.call(e,N),o=e[N];try{e[N]=void 0;var i=!0}catch{}var r=Le.call(e);return i&&(n?e[N]=o:delete e[N]),r}(e):function Qe(e){return He.call(e)}(e)},B=function Ve(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)},bt=function nn(e){if(!B(e))return!1;var n=J(e);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n};var e,on=h["__core-js_shared__"],Tt=(e=/[^.]+$/.exec(on&&on.keys&&on.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";var cn=Function.prototype.toString;const C=function an(e){if(null!=e){try{return cn.call(e)}catch{}try{return e+""}catch{}}return""};var _n=/^\[object .+?Constructor\]$/,hn=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const bn=function mn(e){return!(!B(e)||function rn(e){return!!Tt&&Tt in e}(e))&&(bt(e)?hn:_n).test(C(e))},v=function vn(e,n){var o=function Tn(e,n){return e?.[n]}(e,n);return bn(o)?o:void 0},k=v(h,"Map"),L=v(Object,"create");var jn=Object.prototype.hasOwnProperty;var Sn=Object.prototype.hasOwnProperty;function E(e){var n=-1,o=null==e?0:e.length;for(this.clear();++n<o;){var i=e[n];this.set(i[0],i[1])}}E.prototype.clear=function xn(){this.__data__=L?L(null):{},this.size=0},E.prototype.delete=function wn(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n},E.prototype.get=function In(e){var n=this.__data__;if(L){var o=n[e];return"__lodash_hash_undefined__"===o?void 0:o}return jn.call(n,e)?n[e]:void 0},E.prototype.has=function On(e){var n=this.__data__;return L?void 0!==n[e]:Sn.call(n,e)},E.prototype.set=function Jn(e,n){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=L&&void 0===n?"__lodash_hash_undefined__":n,this};const Ct=E,z=function Kn(e,n){var o=e.__data__;return function Pn(e){var n=typeof e;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e}(n)?o["string"==typeof n?"string":"hash"]:o.map};function M(e){var n=-1,o=null==e?0:e.length;for(this.clear();++n<o;){var i=e[n];this.set(i[0],i[1])}}M.prototype.clear=function kn(){this.size=0,this.__data__={hash:new Ct,map:new(k||$),string:new Ct}},M.prototype.delete=function Hn(e){var n=z(this,e).delete(e);return this.size-=n?1:0,n},M.prototype.get=function Yn(e){return z(this,e).get(e)},M.prototype.has=function zn(e){return z(this,e).has(e)},M.prototype.set=function Vn(e,n){var o=z(this,e),i=o.size;return o.set(e,n),this.size+=o.size==i?0:1,this};const Wn=M;function D(e){var n=this.__data__=new $(e);this.size=n.size}D.prototype.clear=function Me(){this.__data__=new $,this.size=0},D.prototype.delete=function je(e){var n=this.__data__,o=n.delete(e);return this.size=n.size,o},D.prototype.get=function Ue(e){return this.__data__.get(e)},D.prototype.has=function Se(e){return this.__data__.has(e)},D.prototype.set=function eo(e,n){var o=this.__data__;if(o instanceof $){var i=o.__data__;if(!k||i.length<199)return i.push([e,n]),this.size=++o.size,this;o=this.__data__=new Wn(i)}return o.set(e,n),this.size=o.size,this};const oo=D;var so=function(){try{var e=v(Object,"defineProperty");return e({},"",{}),e}catch{}}();const vt=so,yt=function uo(e,n,o){"__proto__"==n&&vt?vt(e,n,{configurable:!0,enumerable:!0,value:o,writable:!0}):e[n]=o};var ao=Object.prototype.hasOwnProperty;const At=function lo(e,n,o){var i=e[n];(!ao.call(e,n)||!gt(i,o)||void 0===o&&!(n in e))&&yt(e,n,o)},R=function _o(e,n,o,i){var r=!o;o||(o={});for(var s=-1,c=n.length;++s<c;){var _=n[s],p=i?i(o[_],e[_],_,o,e):void 0;void 0===p&&(p=e[_]),r?yt(o,_,p):At(o,_,p)}return o},P=function fo(e){return null!=e&&"object"==typeof e},xt=function mo(e){return P(e)&&"[object Arguments]"==J(e)};var Zt=Object.prototype,bo=Zt.hasOwnProperty,To=Zt.propertyIsEnumerable,Co=xt(function(){return arguments}())?xt:function(e){return P(e)&&bo.call(e,"callee")&&!To.call(e,"callee")};const vo=Co,W=Array.isArray;var wt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Et=wt&&"object"==typeof module&&module&&!module.nodeType&&module,Mt=Et&&Et.exports===wt?h.Buffer:void 0;const Dt=(Mt?Mt.isBuffer:void 0)||function Ao(){return!1};var Do=/^(?:0|[1-9]\d*)$/;const Io=function jo(e,n){var o=typeof e;return!!(n=n??9007199254740991)&&("number"==o||"symbol"!=o&&Do.test(e))&&e>-1&&e%1==0&&e<n},jt=function qo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;const tt=function si(e){return function(n){return e(n)}};var It="object"==typeof exports&&exports&&!exports.nodeType&&exports,G=It&&"object"==typeof module&&module&&!module.nodeType&&module,et=G&&G.exports===It&&ft.process;const j=function(){try{return G&&G.require&&G.require("util").types||et&&et.binding&&et.binding("util")}catch{}}();var Ut=j&&j.isTypedArray;const li=Ut?tt(Ut):function ii(e){return P(e)&&jt(e.length)&&!!a[J(e)]};var di=Object.prototype.hasOwnProperty;const qt=function pi(e,n){var o=W(e),i=!o&&vo(e),r=!o&&!i&&Dt(e),s=!o&&!i&&!r&&li(e),c=o||i||r||s,_=c?function po(e,n){for(var o=-1,i=Array(e);++o<e;)i[o]=n(o);return i}(e.length,String):[],p=_.length;for(var g in e)(n||di.call(e,g))&&(!c||!("length"==g||r&&("offset"==g||"parent"==g)||s&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||Io(g,p)))&&_.push(g);return _};var gi=Object.prototype;const nt=function fi(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||gi)},St=function hi(e,n){return function(o){return e(n(o))}},bi=St(Object.keys,Object);var Ci=Object.prototype.hasOwnProperty;const Ot=function Ai(e){return null!=e&&jt(e.length)&&!bt(e)},ot=function xi(e){return Ot(e)?qt(e):function vi(e){if(!nt(e))return bi(e);var n=[];for(var o in Object(e))Ci.call(e,o)&&"constructor"!=o&&n.push(o);return n}(e)};var ji=Object.prototype.hasOwnProperty;const Ui=function Ii(e){if(!B(e))return function Ei(e){var n=[];if(null!=e)for(var o in Object(e))n.push(o);return n}(e);var n=nt(e),o=[];for(var i in e)"constructor"==i&&(n||!ji.call(e,i))||o.push(i);return o},it=function qi(e){return Ot(e)?qt(e,!0):Ui(e)};var Ft="object"==typeof exports&&exports&&!exports.nodeType&&exports,Nt=Ft&&"object"==typeof module&&module&&!module.nodeType&&module,Jt=Nt&&Nt.exports===Ft?h.Buffer:void 0,Bt=Jt?Jt.allocUnsafe:void 0;const kt=function Gi(){return[]};var Hi=Object.prototype.propertyIsEnumerable,Lt=Object.getOwnPropertySymbols,Qi=Lt?function(e){return null==e?[]:(e=Object(e),function Li(e,n){for(var o=-1,i=null==e?0:e.length,r=0,s=[];++o<i;){var c=e[o];n(c,o,e)&&(s[r++]=c)}return s}(Lt(e),function(n){return Hi.call(e,n)}))}:kt;const rt=Qi,Pt=function zi(e,n){for(var o=-1,i=n.length,r=e.length;++o<i;)e[r+o]=n[o];return e},Gt=St(Object.getPrototypeOf,Object);var Xi=Object.getOwnPropertySymbols?function(e){for(var n=[];e;)Pt(n,rt(e)),e=Gt(e);return n}:kt;const Kt=Xi,Ht=function er(e,n,o){var i=n(e);return W(e)?i:Pt(i,o(e))},or=function nr(e){return Ht(e,ot,rt)},rr=function ir(e){return Ht(e,it,Kt)},st=v(h,"DataView"),ut=v(h,"Promise"),ct=v(h,"Set"),at=v(h,"WeakMap");var Qt="[object Map]",Yt="[object Promise]",$t="[object Set]",zt="[object WeakMap]",Rt="[object DataView]",_r=C(st),dr=C(k),pr=C(ut),gr=C(ct),fr=C(at),y=J;(st&&y(new st(new ArrayBuffer(1)))!=Rt||k&&y(new k)!=Qt||ut&&y(ut.resolve())!=Yt||ct&&y(new ct)!=$t||at&&y(new at)!=zt)&&(y=function(e){var n=J(e),o="[object Object]"==n?e.constructor:void 0,i=o?C(o):"";if(i)switch(i){case _r:return Rt;case dr:return Qt;case pr:return Yt;case gr:return $t;case fr:return zt}return n});const lt=y;var mr=Object.prototype.hasOwnProperty;const Vt=h.Uint8Array,_t=function vr(e){var n=new e.constructor(e.byteLength);return new Vt(n).set(new Vt(e)),n};var xr=/\w*$/;var Xt=w?w.prototype:void 0,Wt=Xt?Xt.valueOf:void 0;const Vr=function Rr(e,n,o){var i=e.constructor;switch(n){case"[object ArrayBuffer]":return _t(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return function yr(e,n){var o=n?_t(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}(e,o);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function Dr(e,n){var o=n?_t(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}(e,o);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return function Zr(e){var n=new e.constructor(e.source,xr.exec(e));return n.lastIndex=e.lastIndex,n}(e);case"[object Symbol]":return function Er(e){return Wt?Object(Wt.call(e)):{}}(e)}};var te=Object.create,Xr=function(){function e(){}return function(n){if(!B(n))return{};if(te)return te(n);e.prototype=n;var o=new e;return e.prototype=void 0,o}}();const Wr=Xr;var ee=j&&j.isMap;const ss=ee?tt(ee):function os(e){return P(e)&&"[object Map]"==lt(e)};var ne=j&&j.isSet;const _s=ne?tt(ne):function cs(e){return P(e)&&"[object Set]"==lt(e)};var oe="[object Arguments]",ie="[object Function]",re="[object Object]",u={};u[oe]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object DataView]"]=u["[object Boolean]"]=u["[object Date]"]=u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Map]"]=u["[object Number]"]=u[re]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object Symbol]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u["[object Error]"]=u[ie]=u["[object WeakMap]"]=!1;const Js=function V(e,n,o,i,r,s){var c,_=1&n,p=2&n,g=4&n;if(o&&(c=r?o(e,i,r,s):o(e)),void 0!==c)return c;if(!B(e))return e;var ue=W(e);if(ue){if(c=function br(e){var n=e.length,o=new e.constructor(n);return n&&"string"==typeof e[0]&&mr.call(e,"index")&&(o.index=e.index,o.input=e.input),o}(e),!_)return function Bi(e,n){var o=-1,i=e.length;for(n||(n=Array(i));++o<i;)n[o]=e[o];return n}(e,c)}else{var q=lt(e),ce=q==ie||"[object GeneratorFunction]"==q;if(Dt(e))return function Ni(e,n){if(n)return e.slice();var o=e.length,i=Bt?Bt(o):new e.constructor(o);return e.copy(i),i}(e,_);if(q==re||q==oe||ce&&!r){if(c=p||ce?{}:function ts(e){return"function"!=typeof e.constructor||nt(e)?{}:Wr(Gt(e))}(e),!_)return p?function Wi(e,n){return R(e,Kt(e),n)}(e,function Si(e,n){return e&&R(n,it(n),e)}(c,e)):function Yi(e,n){return R(e,rt(e),n)}(e,function Zi(e,n){return e&&R(n,ot(n),e)}(c,e))}else{if(!u[q])return r?e:{};c=Vr(e,q,_)}}s||(s=new oo);var ae=s.get(e);if(ae)return ae;s.set(e,c),_s(e)?e.forEach(function(b){c.add(V(b,n,o,b,e,s))}):ss(e)&&e.forEach(function(b,A){c.set(A,V(b,n,o,A,e,s))});var le=ue?void 0:(g?p?rr:or:p?it:ot)(e);return function io(e,n){for(var o=-1,i=null==e?0:e.length;++o<i&&!1!==n(e[o],o,e););}(le||e,function(b,A){le&&(b=e[A=b]),At(c,A,V(b,n,o,A,e,s))}),c},se=function Ls(e){return Js(e,5)};function Ps(e,n){if(1&e&&(t.TgZ(0,"div")(1,"h2"),t._uU(2),t.qZA()()),2&e){const o=t.oxw(2);t.xp6(2),t.hij("\u041a\u0443\u0440\u0441: ",o.course.title," ")}}function Gs(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div")(1,"h2"),t._uU(2,"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0443\u0440\u0441"),t.qZA(),t.TgZ(3,"label",11),t._uU(4,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),t.qZA(),t.TgZ(5,"input",12),t.NdJ("ngModelChange",function(r){t.CHM(o);const s=t.oxw(2);return t.KtG(s.course.title=r)}),t.qZA()()}if(2&e){const o=t.oxw(2);t.xp6(5),t.Q6J("ngModel",o.course.title)}}function Ks(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",13)(1,"button",14),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(2);return t.KtG(r.changeCourse())}),t._uU(2,"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),t.qZA(),t.TgZ(3,"button",15),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(2);return t.KtG(r.deleteCourse())}),t._uU(4,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.qZA()()}}function Hs(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",13)(1,"button",16),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(2);return t.KtG(r.updateCourse())}),t._uU(2,"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),t.qZA(),t.TgZ(3,"button",17),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(2);return t.KtG(r.cancel())}),t._uU(4,"\u041e\u0442\u043c\u0435\u043d\u0430"),t.qZA()()}}function Qs(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",13)(1,"div",18)(2,"div",19)(3,"a",20),t._uU(4),t.qZA()(),t.TgZ(5,"div",21)(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"div")(9,"label"),t._uU(10,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),t.qZA(),t.TgZ(11,"textarea",22),t.NdJ("ngModelChange",function(r){const c=t.CHM(o).$implicit;return t.KtG(c.description=r)}),t._uU(12,"                    "),t.qZA()(),t.TgZ(13,"div",23)(14,"button",24),t.NdJ("click",function(){const s=t.CHM(o).$implicit,c=t.oxw(2);return t.KtG(c.deleteTopic(s))}),t._uU(15,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.qZA()()()()()}if(2&e){const o=n.$implicit;t.xp6(3),t.MGl("routerLink","./",o.id,""),t.xp6(1),t.Oqu(o.title),t.xp6(3),t.hij("\u0421\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c: ",o.difficult,""),t.xp6(4),t.Q6J("ngModel",o.description)}}function Ys(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",25)(1,"button",14),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(2);return t.KtG(r.addTopic())}),t._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u043c\u0443"),t.qZA()()}}function $s(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",18)(1,"div",19)(2,"label"),t._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u043c\u044b"),t.qZA(),t.TgZ(4,"input",26),t.NdJ("ngModelChange",function(r){t.CHM(o);const s=t.oxw(2);return t.KtG(s.newTopic.title=r)}),t.qZA()(),t.TgZ(5,"div",21)(6,"div",27)(7,"label"),t._uU(8,"\u0421\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c"),t.qZA(),t.TgZ(9,"input",28),t.NdJ("ngModelChange",function(r){t.CHM(o);const s=t.oxw(2);return t.KtG(s.newTopic.difficult=r)}),t.qZA()(),t.TgZ(10,"div",13)(11,"label"),t._uU(12,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),t.qZA(),t.TgZ(13,"textarea",29),t.NdJ("ngModelChange",function(r){t.CHM(o);const s=t.oxw(2);return t.KtG(s.newTopic.description=r)}),t._uU(14,"                "),t.qZA()(),t.TgZ(15,"button",14),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(2);return t.KtG(r.createTopic())}),t._uU(16,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u043c\u0443"),t.qZA()()()}if(2&e){const o=t.oxw(2);t.xp6(4),t.Q6J("ngModel",o.newTopic.title),t.xp6(5),t.Q6J("ngModel",o.newTopic.difficult),t.xp6(4),t.Q6J("ngModel",o.newTopic.description)}}function zs(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",1)(1,"div"),t.YNc(2,Ps,3,1,"div",2),t.YNc(3,Gs,6,1,"div",2),t.TgZ(4,"div",3)(5,"div",4)(6,"label"),t._uU(7,"\u0426\u0435\u043b\u0435\u0432\u043e\u0439 \u044f\u0437\u044b\u043a: "),t.TgZ(8,"span",5),t._uU(9),t.qZA()()(),t.TgZ(10,"div",4)(11,"label"),t._uU(12,"\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u044f\u0437\u044b\u043a: "),t.TgZ(13,"span",5),t._uU(14),t.qZA()()(),t.TgZ(15,"label"),t._uU(16),t.qZA()(),t.TgZ(17,"div")(18,"label"),t._uU(19,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),t.qZA(),t.TgZ(20,"textarea",6),t.NdJ("ngModelChange",function(r){t.CHM(o);const s=t.oxw();return t.KtG(s.course.description=r)}),t._uU(21,"            "),t.qZA()(),t.YNc(22,Ks,5,0,"div",7),t.YNc(23,Hs,5,0,"div",7),t.qZA(),t._UZ(24,"hr"),t.TgZ(25,"h2"),t._uU(26,"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0435\u043c"),t.qZA(),t.YNc(27,Qs,16,4,"div",8),t.YNc(28,Ys,3,0,"div",9),t.YNc(29,$s,17,3,"div",10),t.qZA()}if(2&e){const o=t.oxw();t.xp6(2),t.Q6J("ngIf",!o.isChanging),t.xp6(1),t.Q6J("ngIf",o.isChanging),t.xp6(6),t.Oqu(o.course.targetLang),t.xp6(5),t.Oqu(o.course.sourceLang),t.xp6(2),t.hij("\u0421\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c: ",o.course.difficult,""),t.xp6(4),t.Q6J("disabled",!o.isChanging)("ngModel",o.course.description),t.xp6(2),t.Q6J("ngIf",!o.isChanging),t.xp6(1),t.Q6J("ngIf",o.isChanging),t.xp6(4),t.Q6J("ngForOf",o.course.topics),t.xp6(1),t.Q6J("ngIf",!o.newTopic),t.xp6(1),t.Q6J("ngIf",o.newTopic)}}class K{constructor(n,o,i){this.courseService=n,this.route=o,this.router=i,this.isChanging=!1}ngOnInit(){this.courseService.getCourse(this.route.snapshot.params.id).subscribe({next:o=>{this.course=o,console.log(o)},error:o=>{console.error(o)}})}changeCourse(){this.course&&(this.courseOld=se(this.course),this.isChanging=!0)}cancel(){this.course&&(this.course=this.courseOld,this.isChanging=!1)}updateCourse(){this.isChanging&&this.course&&this.courseService.updateCourse(this.course).subscribe({next:n=>{this.isChanging=!1,this.course=n,console.log(n)},error:n=>{console.error(n)}})}deleteCourse(){this.course&&this.courseService.deleteCourse(this.course.id).subscribe({next:n=>{this.router.navigate(["../../courses"],{relativeTo:this.route})},error:n=>{console.error(n)}})}addTopic(){this.course&&(this.newTopic={id:0,title:"",description:"",difficult:0,num:this.course.topics.length+1})}createTopic(){this.course&&this.newTopic&&this.courseService.createTopic(this.course.id,this.newTopic).subscribe({next:n=>{this.newTopic=void 0,this.course=n,console.log(n)},error:n=>{console.error(n)}})}deleteTopic(n){this.courseService.deleteTopic(n.id).subscribe({next:o=>{this.course=o},error:o=>{console.error(o)}})}}K.\u0275fac=function(n){return new(n||K)(t.Y36(m),t.Y36(d.gz),t.Y36(d.F0))},K.\u0275cmp=t.Xpm({type:K,selectors:[["admin-course-details"]],decls:1,vars:1,consts:[["class","mt-3",4,"ngIf"],[1,"mt-3"],[4,"ngIf"],[1,"row"],[1,"col-3"],[1,"badge","bg-light","text-dark"],["required","",1,"form-control",3,"disabled","ngModel","ngModelChange"],["class","my-2",4,"ngIf"],["class","my-2",4,"ngFor","ngForOf"],["class","my-3",4,"ngIf"],["class","card",4,"ngIf"],["for","title"],["type","text","id","title","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"my-2"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger","ms-2",3,"click"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-primary","ms-2",3,"click"],[1,"card"],[1,"card-header"],[1,"card-title","link-primary","h5",3,"routerLink"],[1,"card-body"],["disabled","","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"mt-2"],[1,"btn","btn-danger",3,"click"],[1,"my-3"],["type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-4","col-md-3"],["type","number","required","",1,"form-control",3,"ngModel","ngModelChange"],["required","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(n,o){1&n&&t.YNc(0,zs,30,12,"div",0),2&n&&t.Q6J("ngIf",o.course)},dependencies:[x.sg,x.O5,d.rH,l.Fj,l.wV,l.JJ,l.Q7,l.On]});class H{constructor(n,o,i){this.courseService=n,this.route=o,this.router=i,this.course={id:0,title:"",description:"",targetLang:"",sourceLang:"",difficult:0,topics:[]}}createCourse(){this.course.title&&this.course.targetLang&&this.course.sourceLang&&this.courseService.createCourse(this.course).subscribe({next:n=>{this.course=n,this.router.navigate([`../../course/${this.course.id}`],{relativeTo:this.route})},error:n=>{console.error(n)}})}}function Rs(e,n){if(1&e&&(t.TgZ(0,"div")(1,"h3"),t._uU(2),t.qZA()()),2&e){const o=t.oxw(2);t.xp6(2),t.hij("\u0422\u0435\u043c\u0430: ",o.topic.title," ")}}function Vs(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div")(1,"h3"),t._uU(2,"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0435\u043c\u0443"),t.qZA(),t.TgZ(3,"label",7),t._uU(4,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),t.qZA(),t.TgZ(5,"input",8),t.NdJ("ngModelChange",function(r){t.CHM(o);const s=t.oxw(2);return t.KtG(s.topic.title=r)}),t.qZA()()}if(2&e){const o=t.oxw(2);t.xp6(5),t.Q6J("ngModel",o.topic.title)}}function Xs(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",9)(1,"button",10),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(2);return t.KtG(r.changeTopic())}),t._uU(2,"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),t.qZA(),t.TgZ(3,"button",11),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(2);return t.KtG(r.deleteTopic())}),t._uU(4,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.qZA()()}}function Ws(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",9)(1,"button",12),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(2);return t.KtG(r.updateTopic())}),t._uU(2,"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),t.qZA(),t.TgZ(3,"button",13),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(2);return t.KtG(r.cancel())}),t._uU(4,"\u041e\u0442\u043c\u0435\u043d\u0430"),t.qZA()()}}function tu(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(3);return t.KtG(r.isShowTopicElements=!r.isShowTopicElements)}),t._uU(1," \u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043f\u043e\u0438\u0441\u043a\u0443 "),t.qZA()}}function eu(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(3);return t.KtG(r.isShowTopicElements=!r.isShowTopicElements)}),t._uU(1," \u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430\u043c "),t.qZA()}}function nu(e,n){if(1&e&&(t.TgZ(0,"div",9),t.YNc(1,tu,2,0,"button",14),t.YNc(2,eu,2,0,"button",14),t.qZA()),2&e){const o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",o.isShowTopicElements),t.xp6(1),t.Q6J("ngIf",!o.isShowTopicElements)}}function ou(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",9)(1,"button",12),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(2);return t.KtG(r.commit())}),t._uU(2," \u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f "),t.qZA()()}}function iu(e,n){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA()()),2&e){const o=n.$implicit;t.xp6(2),t.Oqu(o.content)}}function ru(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(o);const r=t.oxw().$implicit,s=t.oxw(4);return t.KtG(s.deleteElement(r.topicElement.elementId))}),t._uU(1," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),t.qZA()}}function su(e,n){if(1&e&&(t.TgZ(0,"tr")(1,"th",19),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"table",20)(5,"thead")(6,"tr")(7,"th",17),t._uU(8,"\u0421\u043b\u043e\u0432\u043e"),t.qZA()()(),t.TgZ(9,"tbody"),t.YNc(10,iu,3,1,"tr",18),t.qZA()()(),t.TgZ(11,"td"),t.YNc(12,ru,2,0,"button",21),t.qZA()()),2&e){const o=n.$implicit,i=n.index,r=t.oxw(4);t.xp6(2),t.Oqu(i+1),t.xp6(8),t.Q6J("ngForOf",o.card.sides),t.xp6(2),t.Q6J("ngIf",r.addedElementIds.has(o.topicElement.elementId))}}function uu(e,n){if(1&e&&(t.TgZ(0,"div")(1,"div",15)(2,"table",16)(3,"thead")(4,"tr")(5,"th",17),t._uU(6,"#"),t.qZA(),t.TgZ(7,"th",17),t._uU(8,"\u042d\u043b\u0435\u043c\u0435\u043d\u0442"),t.qZA(),t.TgZ(9,"th",17),t._uU(10,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),t.qZA()()(),t.TgZ(11,"tbody"),t.YNc(12,su,13,3,"tr",18),t.qZA()()()()),2&e){const o=t.oxw(3);t.xp6(12),t.Q6J("ngForOf",o.topicElements)}}function cu(e,n){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,uu,13,1,"div",3),t.qZA()),2&e){const o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",o.topicElements)}}function au(e,n){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA()()),2&e){const o=n.$implicit;t.xp6(2),t.Oqu(o.content)}}function lu(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(o);const r=t.oxw().$implicit,s=t.oxw(4);return t.KtG(s.addNewElement(r.elementId))}),t._uU(1," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c "),t.qZA()}}function _u(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(o);const r=t.oxw().$implicit,s=t.oxw(4);return t.KtG(s.deleteElement(r.elementId))}),t._uU(1," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),t.qZA()}}function du(e,n){if(1&e&&(t.TgZ(0,"tr")(1,"th",19),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"table",20)(5,"thead")(6,"tr")(7,"th",17),t._uU(8,"\u0421\u043b\u043e\u0432\u043e"),t.qZA()()(),t.TgZ(9,"tbody"),t.YNc(10,au,3,1,"tr",18),t.qZA()()(),t.TgZ(11,"td"),t.YNc(12,lu,2,0,"button",26),t.YNc(13,_u,2,0,"button",21),t.qZA()()),2&e){const o=n.$implicit,i=n.index,r=t.oxw(4);t.xp6(2),t.Oqu(i+1),t.xp6(8),t.Q6J("ngForOf",o.card.sides),t.xp6(2),t.Q6J("ngIf",!r.addedElementIds.has(o.elementId)),t.xp6(1),t.Q6J("ngIf",r.addedElementIds.has(o.elementId))}}function pu(e,n){if(1&e&&(t.TgZ(0,"div")(1,"div",15)(2,"table",16)(3,"thead")(4,"tr")(5,"th",17),t._uU(6,"#"),t.qZA(),t.TgZ(7,"th",17),t._uU(8,"\u042d\u043b\u0435\u043c\u0435\u043d\u0442"),t.qZA(),t.TgZ(9,"th",17),t._uU(10,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),t.qZA()()(),t.TgZ(11,"tbody"),t.YNc(12,du,14,4,"tr",18),t.qZA()()()()),2&e){const o=t.oxw(3);t.xp6(12),t.Q6J("ngForOf",o.resultFind)}}function gu(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div")(1,"div")(2,"label"),t._uU(3,"\u041f\u043e\u0438\u0441\u043a \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"),t.qZA(),t.TgZ(4,"div",4)(5,"div",23)(6,"input",24),t.NdJ("ngModelChange",function(r){t.CHM(o);const s=t.oxw(2);return t.KtG(s.query=r)}),t.qZA()(),t.TgZ(7,"div",23)(8,"button",25),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(2);return t.KtG(r.find())}),t._uU(9," \u041d\u0430\u0439\u0442\u0438 "),t.qZA()()()(),t.YNc(10,pu,13,1,"div",3),t.qZA()}if(2&e){const o=t.oxw(2);t.xp6(6),t.Q6J("ngModel",o.query),t.xp6(2),t.Q6J("disabled",0===o.query.trim().length),t.xp6(2),t.Q6J("ngIf",o.resultFind)}}function fu(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",1)(1,"div")(2,"div")(3,"h2"),t._uU(4,"\u041a\u0443\u0440\u0441: "),t.TgZ(5,"a",2),t._uU(6),t.qZA()()(),t.YNc(7,Rs,3,1,"div",3),t.YNc(8,Vs,6,1,"div",3),t.TgZ(9,"div",4)(10,"label"),t._uU(11),t.qZA()(),t.TgZ(12,"div")(13,"label"),t._uU(14,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),t.qZA(),t.TgZ(15,"textarea",5),t.NdJ("ngModelChange",function(r){t.CHM(o);const s=t.oxw();return t.KtG(s.topic.description=r)}),t._uU(16,"            "),t.qZA()(),t.YNc(17,Xs,5,0,"div",6),t.YNc(18,Ws,5,0,"div",6),t.qZA(),t._UZ(19,"hr"),t.YNc(20,nu,3,2,"div",6),t.YNc(21,ou,3,0,"div",6),t.YNc(22,cu,2,1,"div",3),t.YNc(23,gu,11,3,"div",3),t.qZA()}if(2&e){const o=t.oxw();t.xp6(6),t.hij(" ",o.course.title," "),t.xp6(1),t.Q6J("ngIf",!o.isChanging),t.xp6(1),t.Q6J("ngIf",o.isChanging),t.xp6(3),t.hij("\u0421\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c: ",o.topic.difficult,""),t.xp6(4),t.Q6J("disabled",!o.isChanging)("ngModel",o.topic.description),t.xp6(2),t.Q6J("ngIf",!o.isChanging),t.xp6(1),t.Q6J("ngIf",o.isChanging),t.xp6(2),t.Q6J("ngIf",!o.isCommit),t.xp6(1),t.Q6J("ngIf",o.isCommit),t.xp6(1),t.Q6J("ngIf",o.isShowTopicElements),t.xp6(1),t.Q6J("ngIf",!o.isShowTopicElements)}}H.\u0275fac=function(n){return new(n||H)(t.Y36(m),t.Y36(d.gz),t.Y36(d.F0))},H.\u0275cmp=t.Xpm({type:H,selectors:[["admin-add-course"]],decls:27,vars:5,consts:[[1,"mt-3"],[1,"form-group","my-2"],["for","title"],["type","text","id","title","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","my-2"],[1,"col-4","col-md-3"],["for","target-lang"],["type","text","id","target-lang","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","source-lang"],["type","text","id","source-lang","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","source-lang","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","description"],["id","description","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success","mt-2",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0443\u0440\u0441"),t.qZA(),t.TgZ(3,"div",1)(4,"label",2),t._uU(5,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),t.qZA(),t.TgZ(6,"input",3),t.NdJ("ngModelChange",function(r){return o.course.title=r}),t.qZA()(),t.TgZ(7,"div",4)(8,"div",5)(9,"label",6),t._uU(10,"\u0426\u0435\u043b\u0435\u0432\u043e\u0439 \u044f\u0437\u044b\u043a"),t.qZA(),t.TgZ(11,"input",7),t.NdJ("ngModelChange",function(r){return o.course.targetLang=r}),t.qZA()(),t.TgZ(12,"div",5)(13,"label",8),t._uU(14,"\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u044f\u0437\u044b\u043a"),t.qZA(),t.TgZ(15,"input",9),t.NdJ("ngModelChange",function(r){return o.course.sourceLang=r}),t.qZA()(),t.TgZ(16,"div",5)(17,"label",8),t._uU(18,"\u0421\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c"),t.qZA(),t.TgZ(19,"input",10),t.NdJ("ngModelChange",function(r){return o.course.difficult=r}),t.qZA()()(),t.TgZ(20,"div",1)(21,"label",11),t._uU(22,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),t.qZA(),t.TgZ(23,"textarea",12),t.NdJ("ngModelChange",function(r){return o.course.description=r}),t._uU(24,"        "),t.qZA()(),t.TgZ(25,"button",13),t.NdJ("click",function(){return o.createCourse()}),t._uU(26,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),t.qZA()()),2&n&&(t.xp6(6),t.Q6J("ngModel",o.course.title),t.xp6(5),t.Q6J("ngModel",o.course.targetLang),t.xp6(4),t.Q6J("ngModel",o.course.sourceLang),t.xp6(4),t.Q6J("ngModel",o.course.difficult),t.xp6(4),t.Q6J("ngModel",o.course.description))},dependencies:[l.Fj,l.wV,l.JJ,l.Q7,l.On]});class Q{constructor(n,o,i){this.courseService=n,this.route=o,this.router=i,this.isChanging=!1,this.addedElementIds=new Set,this.query="",this.isShowTopicElements=!0,this.newTopicElements=[],this.deletingTopicElements=[],this.isCommit=!1}ngOnInit(){this.loadCourse(this.route.snapshot.params.courseId,this.route.snapshot.params.topicId)}loadCourse(n,o){this.courseService.getCourse(n).subscribe({next:i=>{this.course=i;for(let r of this.course.topics)r.id==o&&(this.topic=r,this.loadTopicElements(o));console.log(i)},error:i=>{console.error(i)}})}loadTopicElements(n){this.courseService.getTopicElements(n).subscribe({next:o=>{this.topicElements=o;for(let i of this.topicElements)this.addedElementIds.add(i.topicElement.elementId);console.log(o),console.log(this.addedElementIds)},error:o=>{console.error(o)}})}changeTopic(){this.topic&&(this.topicOld=se(this.topic),this.isChanging=!0)}cancel(){this.topic&&(this.topic=this.topicOld,this.isChanging=!1)}updateTopic(){this.isChanging&&this.topic&&this.courseService.updateTopic(this.topic).subscribe({next:n=>{if(this.isChanging=!1,this.course=n,this.course)for(let o of this.course.topics)o.id==this.topic?.id&&(this.topic=o);console.log(n)},error:n=>{console.error(n)}})}deleteTopic(){this.topic&&this.courseService.deleteTopic(this.topic.id).subscribe({next:n=>{this.router.navigate([".."],{relativeTo:this.route})},error:n=>{console.error(n)}})}addNewElement(n){this.newTopicElements.push({elementId:n,num:0}),this.addedElementIds.add(n),this.isCommit=!0,console.log("added "+n)}deleteElement(n){this.deletingTopicElements.push({elementId:n,num:0}),this.addedElementIds.delete(n),this.isCommit=!0,console.log("delete "+n)}commit(){this.topic&&(this.newTopicElements.length>0&&this.courseService.updateTopicElements(this.topic.id,this.newTopicElements).subscribe({next:n=>{this.topic&&(this.loadTopicElements(this.topic.id),this.isCommit=!1)},error:n=>{console.error(n)}}),this.deletingTopicElements.length>0&&this.courseService.deleteTopicElements(this.topic.id,this.deletingTopicElements).subscribe({next:n=>{this.topic&&(this.loadTopicElements(this.topic.id),this.isCommit=!1)},error:n=>{console.error(n)}}))}find(){this.query&&this.query.trim().length>0&&this.course&&this.courseService.find(this.query,this.course).subscribe({next:n=>{this.resultFind=n,console.log(n)},error:n=>{console.error(n)}})}}Q.\u0275fac=function(n){return new(n||Q)(t.Y36(m),t.Y36(d.gz),t.Y36(d.F0))},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["admin-topic-details"]],decls:1,vars:1,consts:[["class","mt-3",4,"ngIf"],[1,"mt-3"],["routerLink","../",1,"link-primary"],[4,"ngIf"],[1,"row"],["required","",1,"form-control",3,"disabled","ngModel","ngModelChange"],["class","my-2",4,"ngIf"],["for","title"],["type","text","id","title","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"my-2"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger","ms-2",3,"click"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-primary","ms-2",3,"click"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"table-responsive"],[1,"table","table-sm","table-bordered"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"table","table-sm","table-striped","table-bordered","mb-0"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"col-5"],["type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"disabled","click"],["class","btn btn-success",3,"click",4,"ngIf"]],template:function(n,o){1&n&&t.YNc(0,fu,24,12,"div",0),2&n&&t.Q6J("ngIf",o.course&&o.topic)},dependencies:[x.sg,x.O5,d.rH,l.Fj,l.JJ,l.Q7,l.On]});const hu=[{path:"",component:S,children:[{path:"",component:O},{path:"courses",component:F},{path:"courses/add",component:H},{path:"course/:id",component:K},{path:"course/:courseId/:topicId",component:Q}]}];class I{}I.\u0275fac=function(n){return new(n||I)},I.\u0275mod=t.oAB({type:I}),I.\u0275inj=t.cJS({imports:[d.Bz.forChild(hu),d.Bz]});class U{}U.\u0275fac=function(n){return new(n||U)},U.\u0275mod=t.oAB({type:U}),U.\u0275inj=t.cJS({imports:[x.ez,I,T.IJ,l.u5,l.UX,pt.JF]})}}]);